function loadGoogleMapsAPI(){const e=document.createElement("script");e.src=`https://maps.googleapis.com/maps/api/js?key=${CONFIGURATION.mapsApiKey}&libraries=places&callback=initAutocomplete`,e.async=!0,e.defer=!0,document.head.appendChild(e)}function initAutocomplete(){const e=document.getElementById("signUp_address");new google.maps.places.Autocomplete(e,{types:["address"],componentRestrictions:{country:"gb"}}).addListener("place_changed",fillInAddress)}function fillInAddress(){const e=this.getPlace();if(!e.geometry)return void window.alert("No details available for input: '"+e.name+"'");console.log("Full place object:",e);let o="",t="",n="",s="",a="";for(const l of e.address_components){const e=l.types[0];switch(console.log("Component:",e,l.long_name),e){case"street_number":o=`${l.long_name} ${o}`;break;case"route":o+=l.short_name;break;case"postal_code":const e=l.long_name.split(" ");t=e[0],e.length>1&&(n=e[1]);break;case"postal_code_prefix":t=l.long_name;break;case"postal_town":s=l.long_name;break;case"administrative_area_level_2":a=l.long_name}}const l=n?`${t} ${n}`:t;console.log("Extracted postcode:",l),document.getElementById("signUp_addressLine").value=o,document.getElementById("signUp_postcode").value=l,document.getElementById("signUp_line").value=s,console.log("Filled values:",{addressLine1:o,fullPostcode:l,city:s,county:a})}const CONFIGURATION={mapsApiKey:"AIzaSyBGpxtUlMBb59npiLEw5qKkWUO8F6Foet4"};window.onload=loadGoogleMapsAPI,window.initAutocomplete=initAutocomplete;